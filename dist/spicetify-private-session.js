(()=>{const t="button.main-noConnection-button",e="div.main-topBar-topbarContentRight > button.main-userWidget-boxCondensed ",o="span",n="div.main-userWidget-dropDownMenu > ul > li > button",r=300,i=t=>{if(t>5)return void console.error("Failed to open menu and start private session after 5 attempts.");const o=document.querySelector(e);null!==o?(o.click(),s(0)):setTimeout((()=>i(t+1)),r)},s=t=>{if(t>5)return void console.error("Failed to start private session after 5 attempts.");const e=document.querySelectorAll(n),i=Array.from(e);if(i.length>0)for(const t of i){const e=t,n=e.querySelector(o)?.textContent;if("Private session"===n)return void e.click()}setTimeout((()=>s(t+1)),r)},a=(t,e)=>{t()?e():setTimeout((()=>a(t,e)),r)};a((()=>Spicetify.Platform),(()=>{document.querySelector(t)?console.log("Already in Private Session"):i(0)}))})();